"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
async function run(args) {
    const [iosOutput, androidOutput] = await Promise.all([
        Promise.resolve().then(() => require('./ios/list')).then(iosList => iosList.list(args)),
        Promise.resolve().then(() => require('./android/list')).then(androidList => androidList.list(args)),
    ]);
    if (!args.includes('--json')) {
        process.stdout.write(`iOS\n---\n\n${iosOutput}\n`);
        process.stdout.write(`Android\n-------\n\n${androidOutput}`);
    }
    else {
        const adjustLines = (output) => output.split('\n').map(line => `\t${line}`).join('\n').trim();
        process.stdout.write(`
{
\t"ios": ${adjustLines(iosOutput)},
\t"android": ${adjustLines(androidOutput)}
}`);
    }
}
exports.run = run;
