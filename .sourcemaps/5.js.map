{"version":3,"sources":["../../src/pages/profilepasswordchange/profilepasswordchange.module.ts","../../src/pages/profilepasswordchange/profilepasswordchange.ts"],"names":[],"mappings":"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","file":"5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ProfilePasswordChangePage } from './profilepasswordchange';\n\n@NgModule({\n  declarations: [\n    ProfilePasswordChangePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ProfilePasswordChangePage),\n  ],\n  exports: [\n    ProfilePasswordChangePage\n  ]\n})\nexport class ProfilePasswordChangePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profilepasswordchange/profilepasswordchange.module.ts","// Components, functions, plugins\nimport { Component, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\nimport { IonicPage, NavParams, ViewController, AlertController } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { Http } from '@angular/http';\nimport 'rxjs/add/operator/map';\nimport { Database } from './../../providers/database/database';\nimport { Localstorage } from './../../providers/localstorage/localstorage';\n\n@IonicPage()\n@Component({\n  selector: 'page-profilepasswordchange',\n  templateUrl: 'profilepasswordchange.html',\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\n\nexport class ProfilePasswordChangePage {\n\n\tpasswordOld: string;\n\tpasswordNew1: string;\n\tpasswordNew2: string;\n\tAlertMessage: string;\n\tpasswordType: string = 'password';\n\tpasswordIcon: string = 'eye-off';\n\t\n\tconstructor(private navParams: NavParams, \n\t\t\t\tprivate storage: Storage,\n\t\t\t\tprivate databaseprovider: Database,\n\t\t\t\tprivate cd: ChangeDetectorRef,\n\t\t\t\tprivate alertCtrl: AlertController,\n\t\t\t\tprivate view: ViewController,\n\t\t\t\tprivate localstorage: Localstorage) {\n\t\t\t\t\t\n\t}\n\n\tngOnInit() {\n\n\t}\n\t\n\thideShowPassword() {\n\t\tthis.passwordType = this.passwordType === 'text' ? 'password' : 'text';\n\t\tthis.passwordIcon = this.passwordIcon === 'eye-off' ? 'eye' : 'eye-off';\n\t}\n\n\tcloseModal(UserAction) {\n\t\t\n\t\tvar AttendeeID = this.localstorage.getLocalValue('AttendeeID');\n\n\t\tif (UserAction == \"Save\") {\n\n\t\t\tvar saveCheck = true;\n\t\t\t\n\t\t\tconsole.log('saveCheck: ' + saveCheck);\n\t\t\tconsole.log('passwordOld: ' + this.passwordOld);\n\t\t\tconsole.log('passwordNew1: ' + this.passwordNew1);\n\t\t\tconsole.log('passwordNew2: ' + this.passwordNew2);\n\t\t\t\n\t\t\tif (this.passwordOld === undefined) {\n\t\t\t\t\n\t\t\t\tlet savealert1 = this.alertCtrl.create({\n\t\t\t\t\ttitle: 'Password Change',\n\t\t\t\t\tsubTitle: 'Your old password cannot be blank.',\n\t\t\t\t\tbuttons: ['Ok']\n\t\t\t\t});\n\t\t\t\tsavealert1.present();\n\t\t\t\t\n\t\t\t\tsaveCheck = false;\n\t\t\t\t\n\t\t\t}\n\n\t\t\tif ((saveCheck == true) && (this.passwordNew1 === undefined || this.passwordNew2 === undefined)) {\n\t\t\t\t\n\t\t\t\tlet savealert2 = this.alertCtrl.create({\n\t\t\t\t\ttitle: 'Password Change',\n\t\t\t\t\tsubTitle: 'Your new password cannot be blank.',\n\t\t\t\t\tbuttons: ['Ok']\n\t\t\t\t});\n\t\t\t\tsavealert2.present();\n\n\t\t\t\tsaveCheck = false;\n\t\t\t\t\n\t\t\t}\n\n\t\t\tif ((saveCheck == true) && (this.passwordNew1 != this.passwordNew2)) {\n\t\t\t\t\n\t\t\t\tlet savealert3 = this.alertCtrl.create({\n\t\t\t\t\ttitle: 'Password Change',\n\t\t\t\t\tsubTitle: 'The new passwords do not match.',\n\t\t\t\t\tbuttons: ['Ok']\n\t\t\t\t});\n\t\t\t\tsavealert3.present();\n\n\t\t\t\tsaveCheck = false;\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\tif (saveCheck == true) {\n\n\t\t\t\tconsole.log('saveCheck: ' + saveCheck);\n\t\t\t\tconsole.log('passwordOld: ' + this.passwordOld);\n\t\t\t\tconsole.log('passwordNew1: ' + this.passwordNew1);\n\t\t\t\tconsole.log('passwordNew2: ' + this.passwordNew2);\n\t\t\t\n\t\t\t\tvar flags = 'pw|' + this.passwordOld + '|' + this.passwordNew1;\n\t\t\t\t\n\t\t\t\tthis.databaseprovider.getDatabaseStats(flags, AttendeeID).then(data => {\n\t\t\t\t\t\n\t\t\t\t\tconsole.log(\"getDatabaseStats: \" + JSON.stringify(data));\n\n\t\t\t\t\tif (data['length']>0) {\n\n\t\t\t\t\t\t//console.log(\"Return status: \" + JSON.stringify(data));\n\t\t\t\t\t\tvar ReturnStatus = data[0].Status;\n\t\t\t\t\t\t\n\t\t\t\t\t\tswitch(ReturnStatus) {\n\t\t\t\t\t\t\tcase \"Saved\":\n\t\t\t\t\t\t\t\tlet savealert4 = this.alertCtrl.create({\n\t\t\t\t\t\t\t\t\ttitle: 'Password Change',\n\t\t\t\t\t\t\t\t\tsubTitle: 'Your password has been updated.',\n\t\t\t\t\t\t\t\t\tbuttons: ['Ok']\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tsavealert4.present();\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tthis.view.dismiss(UserAction);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"Failed\":\n\t\t\t\t\t\t\t\tlet savealert5 = this.alertCtrl.create({\n\t\t\t\t\t\t\t\t\ttitle: 'Password Change',\n\t\t\t\t\t\t\t\t\tsubTitle: 'There was a problem with your entries. Either the old password is incorrect, the new one does not meet minimum requirements, or there was a problem connecting to the server. Please re-check and try again.',\n\t\t\t\t\t\t\t\t\tbuttons: ['Ok']\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tsavealert5.present();\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"OldFail\":\n\t\t\t\t\t\t\t\tlet savealert6 = this.alertCtrl.create({\n\t\t\t\t\t\t\t\t\ttitle: 'Password Change',\n\t\t\t\t\t\t\t\t\tsubTitle: 'Your old password is not correct. Please re-check and try again.',\n\t\t\t\t\t\t\t\t\tbuttons: ['Ok']\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tsavealert6.present();\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t}).catch(function () {\n\t\t\t\t\tconsole.log(\"Password Change Promise Rejected\");\n\t\t\t\t});\n\t\t\t\n\t\t\t}\t\t\t\n\t\t}\n\t\t\n\t\tif (UserAction == \"Cancel\") {\n\t\t\tthis.view.dismiss(UserAction);\n\t\t}\n\t\t\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profilepasswordchange/profilepasswordchange.ts"],"sourceRoot":""}