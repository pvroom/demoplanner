{"version":3,"sources":["../../src/pages/evaluationlecture/evaluationlecture.module.ts","../../src/pages/evaluationlecture/evaluationlecture.ts"],"names":[],"mappings":"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","file":"12.js","sourcesContent":["// Components, functions, plugins\r\nimport { FormsModule } from '@angular/forms';\r\nimport { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { Database } from '../providers/database/database';\r\nimport { Localstorage } from '../providers/localstorage/localstorage';\r\n\r\n// Pages\r\nimport { EvaluationLecture } from './evaluationlecture';\r\n\r\n@NgModule({\r\n  declarations: [EvaluationLecture],\r\n  imports: [\r\n\tFormsModule,\r\n\tIonicPageModule.forChild(EvaluationLecture)\r\n\t],\r\n  exports: [EvaluationLecture]\r\n\r\n  })\r\n\r\n  export class EvaluationLectureModule {}\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/evaluationlecture/evaluationlecture.module.ts","// Components, functions, plugins\r\nimport { Component, ChangeDetectionStrategy, ChangeDetectorRef, NgModule } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, LoadingController, AlertController } from 'ionic-angular';\r\nimport { Storage } from '@ionic/storage';\r\nimport 'rxjs/add/operator/map';\r\nimport { Database } from './../../providers/database/database';\r\nimport { Localstorage } from './../../providers/localstorage/localstorage';\r\n\r\ndeclare var formatTime: any;\r\ndeclare var dateFormat: any;\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-evaluationlecture',\r\n  templateUrl: 'evaluationlecture.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\n\r\nexport class EvaluationLecture {\r\n\t\t\r\n\t// Eval header variables\r\n\tpublic DisplayEventName: string;\r\n\tpublic DisplayEventTimeDateLocation: string;\r\n\t\r\n\t// Eval question variables\r\n\tpublic CEEvaluationQ11: string;\r\n\tpublic CEEvaluationQ12: string;\r\n\tpublic CEEvaluationQ21: string;\r\n\tpublic CEEvaluationQ22: string;\r\n\tpublic CEEvaluationQ23: string;\r\n\tpublic CEEvaluationQ24: string;\r\n\tpublic CEEvaluationQ25: string;\r\n\tpublic CEEvaluationQ26: string;\r\n\tpublic CEEvaluationQ31: string;\r\n\tpublic CEEvaluationQ32: string;\r\n\t\r\n\tpublic selectedEntry;\r\n\t\r\n\tconstructor(public navCtrl: NavController, \r\n\t\t\t\tpublic navParams: NavParams, \r\n\t\t\t\tprivate nav: NavController,\r\n\t\t\t\tpublic cd: ChangeDetectorRef,\r\n\t\t\t\tprivate storage: Storage,\r\n\t\t\t\tpublic loadingCtrl: LoadingController,\r\n\t\t\t\tprivate alertCtrl: AlertController,\r\n\t\t\t\tprivate databaseprovider: Database,\r\n\t\t\t\tprivate localstorage: Localstorage) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t}\r\n\r\n\tmcqAnswer(value){\r\n\t   console.log('EvaluationLecture, mcqAnswer: ' + value);\r\n\t}\r\n\r\n\tngOnInit() {\r\n\t\t\r\n\t\tconsole.log('ngOnInit: EvaluationLecture');\r\n\t\t\r\n\t\tvar AttendeeID = this.localstorage.getLocalValue('AttendeeID');\r\n\t\tvar EventID = this.localstorage.getLocalValue('EventID');\r\n\r\n        var dbEventDateTime;\r\n        var SQLDate;\r\n        var DisplayDateTime;\r\n\t\tvar flags;\r\n\t\t\r\n\t\tflags = \"ei|\" + EventID + \"|Lecture|0|0|0|0|0|0|0|0|0|0|0|0|0|0\";\r\n\t\tconsole.log(\"EvaluationLecture: flags: \" + flags);\r\n\t\t\r\n\t\tthis.databaseprovider.getEvaluationData(flags, AttendeeID).then(data => {\r\n\t\t\t\r\n\t\t\tconsole.log(\"EvaluationLecture: getEvaluationData: \" + JSON.stringify(data));\r\n\r\n\t\t\tif (data['length']>0) {\r\n\t\t\t\t\r\n\t\t\t\tconsole.log(\"EvaluationLecture: Parsing data\");\r\n\t\t\t\t\r\n                dbEventDateTime = data[0].session_start_time.substring(0, 19);\r\n                dbEventDateTime = dbEventDateTime.replace(/-/g, '/');\r\n                dbEventDateTime = dbEventDateTime.replace(/T/g, ' ');\r\n                SQLDate = new Date(dbEventDateTime);\r\n                DisplayDateTime = dateFormat(SQLDate, \"mm/dd h:MMtt\");\r\n\r\n                // Display end time\r\n                dbEventDateTime = data[0].session_end_time.substring(0, 19);\r\n                dbEventDateTime = dbEventDateTime.replace(/-/g, '/');\r\n                dbEventDateTime = dbEventDateTime.replace(/T/g, ' ');\r\n                SQLDate = new Date(dbEventDateTime);\r\n                DisplayDateTime = DisplayDateTime + \" to \" + dateFormat(SQLDate, \"h:MMtt\");\r\n\r\n                this.DisplayEventName = data[0].session_title;\r\n                this.DisplayEventTimeDateLocation = DisplayDateTime + \" in \" + data[0].RoomName;\r\n\t\t\t\tconsole.log(\"EvaluationLecture: DisplayEventName: \" + data[0].session_title);\r\n\t\t\t\t\r\n\t\t\t\tthis.CEEvaluationQ11 = data[0].Q11;\r\n\t\t\t\tthis.CEEvaluationQ12 = data[0].Q12;\r\n\t\t\t\tthis.CEEvaluationQ21 = data[0].Q21;\r\n\t\t\t\tthis.CEEvaluationQ22 = data[0].Q22;\r\n\t\t\t\tthis.CEEvaluationQ23 = data[0].Q23;\r\n\t\t\t\tthis.CEEvaluationQ24 = data[0].Q24;\r\n\t\t\t\tthis.CEEvaluationQ25 = data[0].Q25;\r\n\t\t\t\tthis.CEEvaluationQ26 = data[0].Q26;\r\n\t\t\t\tthis.CEEvaluationQ31 = data[0].Q31 || '';\r\n\t\t\t\tthis.CEEvaluationQ32 = data[0].Q32 || '';\r\n\t\t\r\n\t\t\t\tthis.cd.markForCheck();\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}).catch(function () {\r\n\t\t\tconsole.log(\"EvaluationLecture: Load Promise Rejected\");\r\n\t\t});\r\n\t}\r\n\r\n\tSubmitEvaluation() {\r\n\t\t\r\n        console.log('EvaluationLecture: Save evaluation (Lecture)...');\r\n\r\n\t\t// Saving progress\r\n\t\tlet saving = this.loadingCtrl.create({\r\n\t\t\tspinner: 'crescent',\r\n\t\t\tcontent: 'Saving...'\r\n\t\t});\r\n\r\n\t\t// Alert for successful save\r\n\t\tlet savealert = this.alertCtrl.create({\r\n\t\t\ttitle: 'Evaluation',\r\n\t\t\tsubTitle: 'Evaluation has been saved.',\r\n\t\t\tbuttons: ['Ok']\r\n\t\t});\r\n\r\n\t\t// Alert for failed save\r\n\t\tlet failalert = this.alertCtrl.create({\r\n\t\t\ttitle: 'Evaluation Entry',\r\n\t\t\tsubTitle: 'Unable to save your evaluation at this time - please try again in a little bit.',\r\n\t\t\tbuttons: ['Ok']\r\n\t\t});\r\n\r\n\t\t// Alert for required fields\r\n\t\tlet requiredalert = this.alertCtrl.create({\r\n\t\t\ttitle: 'Evaluation Entry',\r\n\t\t\tsubTitle: 'All questions in blocks 1 and 2 are required to be completed before saving.',\r\n\t\t\tbuttons: ['Ok']\r\n\t\t});\r\n\r\n\t\t// Show saving progress\r\n\t\tsaving.present();\r\n\r\n\t\tvar Q11 = this.CEEvaluationQ11;\r\n\t\tvar Q12 = this.CEEvaluationQ12;\r\n\t\tvar Q21 = this.CEEvaluationQ21;\r\n\t\tvar Q22 = this.CEEvaluationQ22;\r\n\t\tvar Q23 = this.CEEvaluationQ23;\r\n\t\tvar Q24 = this.CEEvaluationQ24;\r\n\t\tvar Q25 = this.CEEvaluationQ25;\r\n\t\tvar Q26 = this.CEEvaluationQ26;\r\n\t\tvar Q31 = this.CEEvaluationQ31 || '';\r\n\t\tvar Q32 = this.CEEvaluationQ32 || '';\r\n\t\tvar EventID = this.localstorage.getLocalValue('EventID');\r\n\t\tvar AttendeeID = this.localstorage.getLocalValue('AttendeeID');\r\n\t\tvar flags;\r\n\r\n        // Validation checks\r\n        var ValidationPass = true;\r\n\r\n        if (this.CEEvaluationQ11 == null || this.CEEvaluationQ11 == \"\") {\r\n            ValidationPass = false;\r\n        }\r\n        if (this.CEEvaluationQ12 == null || this.CEEvaluationQ12 == \"\") {\r\n            ValidationPass = false;\r\n        }\r\n        if (this.CEEvaluationQ21 == null || this.CEEvaluationQ21 == \"\") {\r\n            ValidationPass = false;\r\n        }\r\n        if (this.CEEvaluationQ22 == null || this.CEEvaluationQ22 == \"\") {\r\n            ValidationPass = false;\r\n        }\r\n        if (this.CEEvaluationQ23 == null || this.CEEvaluationQ23 == \"\") {\r\n            ValidationPass = false;\r\n        }\r\n        if (this.CEEvaluationQ24 == null || this.CEEvaluationQ24 == \"\") {\r\n            ValidationPass = false;\r\n        }\r\n        if (this.CEEvaluationQ25 == null || this.CEEvaluationQ25 == \"\") {\r\n            ValidationPass = false;\r\n        }\r\n        if (this.CEEvaluationQ26 == null || this.CEEvaluationQ26 == \"\") {\r\n            ValidationPass = false;\r\n        }\r\n\t\t\r\n        //if (this.CEEvaluationQ31 == null || this.CEEvaluationQ31 == \"\") {\r\n        //    ValidationPass = false;\r\n        //}\r\n        //if (this.CEEvaluationQ32 == null || this.CEEvaluationQ32 == \"\") {\r\n        //    ValidationPass = false;\r\n        //}\r\n        if (ValidationPass == false) {\r\n\t\t\t\r\n\t\t\tsaving.dismiss();\r\n\t\t\trequiredalert.present();\r\n\r\n        } else {\r\n\r\n            // Get last update performed by this app\r\n\t\t\tvar ThisSync2 = new Date().toUTCString();\r\n\t\t\tvar ThisSync = dateFormat(ThisSync2, \"UTC:yyyy-mm-dd' 'HH:MM:ss\");\r\n\r\n\t\t\tflags = \"es|\" + EventID + \"|Lecture|\" + Q11 + \"|\" + Q12 + \"|\" + Q21 + \"|\" + Q22 + \"|\" + Q23 + \"|\" + Q24 + \"|\" + Q25 + \"|\" + Q26 + \"|\" + Q31 + \"|\" + Q32 + \"|||\" + ThisSync;\r\n\t\t\tconsole.log('EvaluationLecture: Save Evaluation (Lecture) flags: ' + flags);\r\n\t\t\t\r\n\t\t\tthis.databaseprovider.getEvaluationData(flags, AttendeeID).then(data => {\r\n\t\t\t\t\r\n\t\t\t\tconsole.log(\"EvaluationLecture: getEvaluationData: \" + JSON.stringify(data));\r\n\r\n\t\t\t\tif (data['length']>0) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (data[0].EVStatus == \"Success\") {\r\n\t\t\t\t\t\t// Saved\r\n\t\t\t\t\t\tsaving.dismiss();\r\n\t\t\t\t\t\tsavealert.present();\r\n\t\t\t\t\t\tthis.navCtrl.pop();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// Not saved\r\n\t\t\t\t\t\tconsole.log(\"Query: \" + data[0].EVQuery);\r\n\t\t\t\t\t\tsaving.dismiss();\r\n\t\t\t\t\t\tfailalert.present();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t} else {\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Not saved\r\n\t\t\t\t\tconsole.log(\"EvaluationLecture: No query to show\");\r\n\t\t\t\t\tsaving.dismiss();\r\n\t\t\t\t\tfailalert.present();\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\r\n\t\t\t}).catch(function () {\r\n\t\t\t\tconsole.log(\"EvaluationLecture: Save Promise Rejected\");\r\n\t\t\t});\r\n\r\n        }\r\n\t\t\r\n\t}\r\n\t\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/evaluationlecture/evaluationlecture.ts"],"sourceRoot":""}