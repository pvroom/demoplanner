{"version":3,"sources":["../../src/pages/speakerdetails/speakerdetails.module.ts","../../src/pages/speakerdetails/speakerdetails.ts"],"names":[],"mappings":"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","file":"1.js","sourcesContent":["// Components, functions, plugins\r\nimport { FormsModule } from '@angular/forms';\r\nimport { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { Database } from '../providers/database/database';\r\nimport { Localstorage } from '../providers/localstorage/localstorage';\r\n\r\n// Pages\r\nimport { SpeakerDetailsPage } from './speakerdetails';\r\n\r\n@NgModule({\r\n  declarations: [SpeakerDetailsPage],\r\n  imports: [\r\n\tFormsModule,\r\n\tIonicPageModule.forChild(SpeakerDetailsPage)\r\n\t],\r\n  exports: [SpeakerDetailsPage]\r\n\r\n  })\r\n\r\n  export class SpeakerDetailsPageModule {}\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/speakerdetails/speakerdetails.module.ts","// Components, functions, plugins\nimport { Component, ChangeDetectionStrategy, ChangeDetectorRef, NgModule } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { Http } from '@angular/http';\nimport 'rxjs/add/operator/map';\nimport { Database } from './../../providers/database/database';\n\ndeclare var dateFormat: any;\n\n// Pages\nimport { EducationDetailsPage } from '../educationdetails/educationdetails';\n\n@IonicPage()\n@Component({\n  selector: 'page-speakerdetails',\n  templateUrl: 'speakerdetails.html',\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\n\nexport class SpeakerDetailsPage {\n\n\tpublic SessionListing: any[] = [];\n\tpublic visualImageURL: string;\n\tpublic visualDisplayName: string;\n\tpublic visualAffiliation: string;\n\tpublic visualBiography: string;\n\tpublic spkrDetails: string;\n\n\tconstructor(public navCtrl: NavController, \n\t\t\t\tpublic navParams: NavParams,\n\t\t\t\tprivate storage: Storage,\n\t\t\t\tprivate databaseprovider: Database,\n\t\t\t\tprivate cd: ChangeDetectorRef,\n\t\t\t\tpublic loadingCtrl: LoadingController) {\n\t}\n\n\tionViewDidLoad() {\n\t\tconsole.log('ionViewDidLoad SpeakersPage');\n\t}\n\n    EventDetails(EventID) {\n\t\t\n        if (EventID != 0) {\n            // Navigate to Education Details page\n\t\t\tthis.navCtrl.push(EducationDetailsPage, {EventID: EventID}, {animate: true, direction: 'forward'});\n        }\n\n    };\n\n\tngOnInit() {\n\n\t\t// Load initial data set here\n\t\t//let loading = this.loadingCtrl.create({\n\t\t//\tspinner: 'crescent',\n\t\t//\tcontent: 'Please wait...'\n\t\t//});\n\n\t\t//loading.present();\n\n\t\t// Blank and show loading info\n\t\tthis.SessionListing = [];\n\t\tthis.cd.markForCheck();\n\t\t\n\t\t// Temporary use variables\n\t\tvar flags = \"dt|Alpha|\" + this.navParams.get('SpeakerID');\n        var DisplayName = \"\";\n        var BioDisplay = \"\";\n\t\t\n\t\t// Get the data\n\t\tthis.databaseprovider.getSpeakerData(flags, \"0\").then(data => {\n\t\t\t\n\t\t\tconsole.log(\"getSpeakerDetails: \" + JSON.stringify(data));\n\n\t\t\tif (data['length']>0) {\n\t\t\t\t\n\t\t\t\tDisplayName = \"\";\n\n\t\t\t\t// Concatenate fields to build displayable name\n\t\t\t\t//if (data[0].Prefix != \"\") {\n\t\t\t\t//    DisplayName = DisplayName + data[0].Prefix + \" \";\n\t\t\t\t//}\n\t\t\t\tDisplayName = DisplayName + data[0].FirstName;\n\t\t\t\t//if (data[0].MiddleInitial != \"\") {\n\t\t\t\t//    DisplayName = DisplayName + \" \" + data[0].MiddleInitial;\n\t\t\t\t//}\n\t\t\t\tDisplayName = DisplayName + \" \" + data[0].LastName;\n\t\t\t\t//if (data[0].Suffix != \"\") {\n\t\t\t\t//    DisplayName = DisplayName + \" \" + data[0].Suffix;\n\t\t\t\t//}\n\t\t\t\t//if (data[0].imis_designation != \"\" && data[0].imis_designation != null) {\n\t\t\t\t//    DisplayName = DisplayName + \", \" + data[0].imis_designation;\n\t\t\t\t//}\n\t\t\t\t\n\t\t\t\tif (data[0].Credentials != \"\" && data[0].Credentials != null) {\n\t\t\t\t\tthis.visualAffiliation = data[0].Credentials;\n\t\t\t\t}\n\n\t\t\t\t// Thumbnail\n\t\t\t\tvar imageURL = \"https://demoplanner.convergence-us.com/AdminGateway/2019/images/Speakers/\" + data[0].imageFilename;\n\t\t\t\t//imageURL = imageURL.substr(0, imageURL.length - 3) + 'png';\n\t\t\t\tthis.visualImageURL = imageURL;\n\t\t\t\tconsole.log(\"ImageURL: \" + imageURL);\n\n\t\t\t\tthis.visualDisplayName = DisplayName;\n\t\t\t\t//$scope.visualAffiliation = res.rows.item(0).Affiliation;\n\n\t\t\t\t// Biography\n\t\t\t\tif ((data[0].Bio == \"\") || (data[0].Bio == \"&nbsp;\") || (data[0].Bio == \"TBD\")) {\n\t\t\t\t\tthis.spkrDetails = \"No biography provided\";\n\t\t\t\t} else {\n\t\t\t\t\tBioDisplay = data[0].Bio;\n\t\t\t\t\tBioDisplay = BioDisplay.replace(/&nbsp;/g,' ');\n\t\t\t\t\tBioDisplay = BioDisplay.replace(/\\r/g, '');\n\t\t\t\t\tBioDisplay = BioDisplay.replace(/\\n/g, '');\n\t\t\t\t\tBioDisplay = BioDisplay.replace(/\\t/g, '');\n\t\t\t\t\tBioDisplay = BioDisplay.replace(/<div>/g, '');\n\t\t\t\t\tBioDisplay = BioDisplay.replace(/<\\/div>/g, '');\n\t\t\t\t\tthis.spkrDetails = BioDisplay;\n\t\t\t\t}\n\n\t\t\t\t// Get session records\n\t\t\t\tvar coursescat = data[0].Courses;\n\t\t\t\tvar courses = coursescat.split(\"|\");\n\t\t\t\tvar text = \"('\";\n\t\t\t\tfor (var i = 0; i < courses.length; i++) {\n\t\t\t\t\ttext += courses[i] + \"','\";\n\t\t\t\t}\n\t\t\t\tvar QueryParam = text.substring(0, text.length - 2);\n\t\t\t\tQueryParam = QueryParam + \")\";\n\n\t\t\t\tconsole.log(\"Course listing parameters: \" + QueryParam);\n\n\t\t\t\tflags = \"cl|Alpha|\" + this.navParams.get('SpeakerID') + \"|\" + QueryParam;\n\t\t\t\t\n                var SQLDate;\n                var DisplayDateTime;\n                var dbEventDateTime;\n\n\t\t\t\t// Get the list of courses relevant to this speaker\n\t\t\t\tthis.databaseprovider.getSpeakerData(flags, \"0\").then(data2 => {\n\t\t\t\t\t\n\t\t\t\t\tconsole.log(\"getSpeakerData: \" + JSON.stringify(data));\n\n\t\t\t\t\tif (data2['length']>0) {\n\t\t\t\t\t\t\n\t\t\t\t\t\tfor (var i = 0; i < data2['length']; i++) {\n\n                            console.log(data2[i].session_id);\n\n                            dbEventDateTime = data2[i].session_start_time.substring(0,19);\n                            dbEventDateTime = dbEventDateTime.replace(/-/g, '/');\n                            dbEventDateTime = dbEventDateTime.replace(/T/g, ' ');\n\n                            SQLDate = new Date(dbEventDateTime);\n                            DisplayDateTime = dateFormat(SQLDate, \"mm/dd h:MMtt\");\n\n                            // Display end time\n                            dbEventDateTime = data2[i].session_end_time.substring(0, 19);\n                            dbEventDateTime = dbEventDateTime.replace(/-/g, '/');\n                            dbEventDateTime = dbEventDateTime.replace(/T/g, ' ');\n                            SQLDate = new Date(dbEventDateTime);\n                            DisplayDateTime = DisplayDateTime + \" to \" + dateFormat(SQLDate, \"h:MMtt\");\n\n\t\t\t\t\t\t\tthis.SessionListing.push({\n                                DisplayEventName: data2[i].session_title,\n                                DisplayEventTimeDateLocation: DisplayDateTime + \" in \" + data2[i].RoomName,// + \" for \" + ConvertM2HM(res2.rows.item(i).EventDuration),\n                                EventID: data2[i].session_id\n                            });\n\n\t\t\t\t\t\t}\n\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\t\n\t\t\t\t\t\t// No records to show\n\t\t\t\t\t\tthis.SessionListing.push({\n                            DisplayEventName: \"No records available\",\n                            DisplayEventTimeDateLocation: \"\",\n                            EventID: \"0\"\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.cd.markForCheck();\n\t\t\t\t\t\n\t\t\t\t}).catch(function () {\n\t\t\t\t\tconsole.log(\"Promise Rejected\");\n\t\t\t\t});\n\t\t\t\t\t\n\n\t\t\t} else {\n\t\t\t\t\n                // No data to show\n                this.visualDisplayName = \"Unable to retrieve record\";\n                this.visualAffiliation = \"\";\n\n\t\t\t}\n\n\t\t\tthis.cd.markForCheck();\n\n\t\t\t//loading.dismiss();\n\t\t\t\n\t\t}).catch(function () {\n\t\t\tconsole.log(\"Promise Rejected\");\n\t\t});\n\t\t\n\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/speakerdetails/speakerdetails.ts"],"sourceRoot":""}