{"version":3,"sources":["../../src/pages/searchbytopic/searchbytopic.module.ts","../../src/pages/searchbytopic/searchbytopic.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAA,iCAAiC;AACY;AACJ;AACO;AAIhD,QAAQ;AAC4C;AAYlD,IAAa,uBAAuB,GAApC,MAAa,uBAAuB;CAAG;AAA1B,uBAAuB;IAVrC,+DAAQ,CAAC;QACR,YAAY,EAAE,CAAC,yEAAiB,CAAC;QACjC,OAAO,EAAE;YACV,mEAAW;YACX,sEAAe,CAAC,QAAQ,CAAC,yEAAiB,CAAC;SAC1C;QACA,OAAO,EAAE,CAAC,yEAAiB,CAAC;KAE3B,CAAC;GAEW,uBAAuB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpBtC,iCAAiC;AAC+D;AACpB;AACnC;AAEV;AACgC;AACY;AAE3E,QAAQ;AACoE;AAY5E,IAAa,iBAAiB,GAA9B,MAAa,iBAAiB;IAM7B,YAAmB,OAAsB,EAC/B,SAAoB,EACnB,OAAgB,EAChB,gBAA0B,EAC1B,EAAqB,EACtB,WAA8B,EAC7B,YAA0B;QANlB,YAAO,GAAP,OAAO,CAAe;QAC/B,cAAS,GAAT,SAAS,CAAW;QACnB,YAAO,GAAP,OAAO,CAAS;QAChB,qBAAgB,GAAhB,gBAAgB,CAAU;QAC1B,OAAE,GAAF,EAAE,CAAmB;QACtB,gBAAW,GAAX,WAAW,CAAmB;QAC7B,iBAAY,GAAZ,YAAY,CAAc;QAV9B,aAAQ,GAAU,EAAE,CAAC;IAW5B,CAAC;IAED,cAAc;QACb,OAAO,CAAC,GAAG,CAAC,mCAAmC,CAAC,CAAC;IAClD,CAAC;IAED,eAAe;QACd,OAAO,CAAC,GAAG,CAAC,oCAAoC,CAAC,CAAC;QAElD,+CAA+C;QAC/C,IAAI,CAAC,QAAQ,EAAE,CAAC;IACjB,CAAC;IAED,YAAY,CAAC,aAAkB;QAE9B,yCAAyC;QACzC,uBAAuB;QACvB,4BAA4B;QAC5B,KAAK;QAEL,oBAAoB;QAEpB,OAAO,CAAC,GAAG,CAAC,kBAAkB,GAAG,aAAa,CAAC,CAAC;QAEhD,IAAI,CAAC,EAAE,CAAC,YAAY,EAAE,CAAC;QACvB,IAAI,iBAAiB,GAAG,aAAa,CAAC;QACtC,IAAI,OAAO,CAAC;QACZ,IAAI,eAAe,CAAC;QACpB,IAAI,eAAe,CAAC;QACpB,IAAI,kBAAkB,CAAC;QACvB,IAAI,KAAK,GAAG,EAAE,CAAC;QACf,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,iBAAiB,GAAG,iBAAiB,CAAC;QAErC,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,aAAa,EAAE,iBAAiB,CAAC,CAAC;QACxE,IAAI,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;QAE/D,IAAI,iBAAiB,KAAK,IAAI,IAAI,iBAAiB,IAAG,mBAAmB,EAAE;YAE1E,IAAI,CAAC,iBAAiB,GAAG,mBAAmB,CAAC;YAC7C,OAAO,CAAC,GAAG,CAAC,gCAAgC,CAAC,CAAC;SAE9C;aAAM;YAEN,cAAc;YACd,IAAI,CAAC,gBAAgB,CAAC,aAAa,CAAC,iBAAiB,EAAE,UAAU,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;gBAE9E,OAAO,CAAC,GAAG,CAAC,qBAAqB,GAAG,iBAAiB,CAAC,CAAC;gBAEvD,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAC,CAAC,EAAE;oBAErB,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;oBAEhC,sCAAsC;oBACtC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAE,EAAE;wBAExC,eAAe,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,kBAAkB,CAAC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;wBAC9D,eAAe,GAAG,eAAe,CAAC,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;wBACrD,eAAe,GAAG,eAAe,CAAC,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;wBACrD,OAAO,GAAG,IAAI,IAAI,CAAC,eAAe,CAAC,CAAC;wBACpC,eAAe,GAAG,UAAU,CAAC,OAAO,EAAE,cAAc,CAAC,CAAC;wBAEtD,mBAAmB;wBACnB,eAAe,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,gBAAgB,CAAC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;wBAC5D,eAAe,GAAG,eAAe,CAAC,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;wBACrD,eAAe,GAAG,eAAe,CAAC,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;wBACrD,OAAO,GAAG,IAAI,IAAI,CAAC,eAAe,CAAC,CAAC;wBACpC,eAAe,GAAG,eAAe,GAAG,MAAM,GAAG,UAAU,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;wBAE3E,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;4BAClB,gBAAgB,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,aAAa;4BACvC,4BAA4B,EAAE,eAAe,GAAG,MAAM,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,QAAQ;4BACzE,kBAAkB,EAAE,kBAAkB;4BACtC,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,UAAU;yBAC3B,CAAC,CAAC;qBAEH;iBAED;gBAED,IAAI,CAAC,EAAE,CAAC,YAAY,EAAE,CAAC;gBAEvB,oBAAoB;YAErB,CAAC,CAAC,CAAC,KAAK,CAAC;gBACR,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;YACjC,CAAC,CAAC,CAAC;SAEH;IACF,CAAC;IAED,QAAQ;QAEP,yCAAyC;QACzC,uBAAuB;QACvB,4BAA4B;QAC5B,KAAK;QAEL,oBAAoB;QAEpB,IAAI,CAAC,EAAE,CAAC,YAAY,EAAE,CAAC;QACvB,IAAI,OAAO,CAAC;QACZ,IAAI,eAAe,CAAC;QACpB,IAAI,eAAe,CAAC;QACpB,IAAI,kBAAkB,CAAC;QACvB,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;QAEnB,IAAI,iBAAiB,GAAG,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC;QACvE,IAAI,CAAC,iBAAiB,GAAG,iBAAiB,CAAC;QAE3C,IAAI,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;QAE/D,OAAO,CAAC,GAAG,CAAC,eAAe,GAAG,iBAAiB,CAAC,CAAC;QAEjD,IAAI,iBAAiB,KAAK,IAAI,IAAI,iBAAiB,IAAG,mBAAmB,EAAE;YAE1E,IAAI,CAAC,iBAAiB,GAAG,mBAAmB,CAAC;YAC7C,OAAO,CAAC,GAAG,CAAC,gCAAgC,CAAC,CAAC;SAE9C;aAAM;YAEN,cAAc;YACd,IAAI,CAAC,gBAAgB,CAAC,aAAa,CAAC,iBAAiB,EAAE,UAAU,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;gBAE9E,OAAO,CAAC,GAAG,CAAC,qBAAqB,GAAG,iBAAiB,CAAC,CAAC;gBAEvD,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAC,CAAC,EAAE;oBAErB,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;oBAEhC,sCAAsC;oBACtC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAE,EAAE;wBAExC,eAAe,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,kBAAkB,CAAC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;wBAC9D,eAAe,GAAG,eAAe,CAAC,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;wBACrD,eAAe,GAAG,eAAe,CAAC,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;wBACrD,OAAO,GAAG,IAAI,IAAI,CAAC,eAAe,CAAC,CAAC;wBACpC,eAAe,GAAG,UAAU,CAAC,OAAO,EAAE,cAAc,CAAC,CAAC;wBAEtD,mBAAmB;wBACnB,eAAe,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,gBAAgB,CAAC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;wBAC5D,eAAe,GAAG,eAAe,CAAC,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;wBACrD,eAAe,GAAG,eAAe,CAAC,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;wBACrD,OAAO,GAAG,IAAI,IAAI,CAAC,eAAe,CAAC,CAAC;wBACpC,eAAe,GAAG,eAAe,GAAG,MAAM,GAAG,UAAU,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;wBAE3E,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;4BAClB,gBAAgB,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,aAAa;4BACvC,4BAA4B,EAAE,eAAe,GAAG,MAAM,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,QAAQ;4BACzE,kBAAkB,EAAE,kBAAkB;4BACtC,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,UAAU;yBAC3B,CAAC,CAAC;qBAEH;iBAED;gBAED,IAAI,CAAC,EAAE,CAAC,YAAY,EAAE,CAAC;gBAEvB,oBAAoB;YAErB,CAAC,CAAC,CAAC,KAAK,CAAC;gBACR,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;YACjC,CAAC,CAAC,CAAC;SAEH;IAEF,CAAC;IAEE,YAAY,CAAC,OAAO;QAEhB,IAAI,OAAO,IAAI,CAAC,EAAE;YACd,qCAAqC;YAC9C,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,gGAAoB,EAAE,EAAC,OAAO,EAAE,OAAO,EAAC,EAAE,EAAC,OAAO,EAAE,IAAI,EAAE,SAAS,EAAE,SAAS,EAAC,CAAC,CAAC;SAC7F;IAEL,CAAC;IAAA,CAAC;CAEL;AA/LY,iBAAiB;IAN7B,gEAAS,CAAC;QACT,QAAQ,EAAE,oBAAoB;QAC9B,WAAW,EAAE,0EAAoB;OACc;KAChD,CAAC;yEAQwC;QACpB,gEAAS;QACV,8EAAO;QACE,gEAAQ;QACtB,wEAAiB;QACT,4FAAiB;QACf,YAAY;AAmLrC;SA/LY,iBAAiB,e","file":"3.js","sourcesContent":["// Components, functions, plugins\r\nimport { FormsModule } from '@angular/forms';\r\nimport { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { Database } from '../providers/database/database';\r\nimport { Localstorage } from '../providers/localstorage/localstorage';\r\n\r\n// Pages\r\nimport { SearchByTopicPage } from './searchbytopic';\r\n\r\n@NgModule({\r\n  declarations: [SearchByTopicPage],\r\n  imports: [\r\n\tFormsModule,\r\n\tIonicPageModule.forChild(SearchByTopicPage)\r\n\t],\r\n  exports: [SearchByTopicPage]\r\n\r\n  })\r\n\r\n  export class SearchByTopicPageModule {}\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/searchbytopic/searchbytopic.module.ts","// Components, functions, plugins\nimport { Component, ChangeDetectionStrategy, ChangeDetectorRef, NgModule } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { Http } from '@angular/http';\nimport 'rxjs/add/operator/map';\nimport { Database } from './../../providers/database/database';\nimport { Localstorage } from './../../providers/localstorage/localstorage';\n\n// Pages\nimport { EducationDetailsPage } from '../educationdetails/educationdetails';\n\ndeclare var dateFormat: any;\n\n\n@IonicPage()\n@Component({\n  selector: 'page-searchbytopic',\n  templateUrl: 'searchbytopic.html',\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\n\nexport class SearchByTopicPage {\n\n\tpublic sessions: any[] = [];\n\tpublic EntryTerms: string;\n\tpublic TopicSearchChoice: string;\n\t\n\tconstructor(public navCtrl: NavController, \n\t\t\t\tpublic navParams: NavParams,\n\t\t\t\tprivate storage: Storage,\n\t\t\t\tprivate databaseprovider: Database,\n\t\t\t\tprivate cd: ChangeDetectorRef,\n\t\t\t\tpublic loadingCtrl: LoadingController,\n\t\t\t\tprivate localstorage: Localstorage) {\n\t}\n\n\tionViewDidLoad() {\n\t\tconsole.log('ionViewDidLoad: SearchByTopicPage');\n\t}\n\n\tionViewDidEnter() {\n\t\tconsole.log('ionViewDidEnter: SearchByTopicPage');\n\t\t\n\t\t// Load / refresh data when coming to this page\n\t\tthis.LoadData();\n\t}\n\n\tSearchTopics(selectedValue: any) {\n\t\t\n\t\t//let loading = this.loadingCtrl.create({\n\t\t//\tspinner: 'crescent',\n\t\t//\tcontent: 'Please wait...'\n\t\t//});\n\n\t\t//loading.present();\n\n\t\tconsole.log('Selected topic: ' + selectedValue);\n\t\t\n\t\tthis.cd.markForCheck();\n\t\tvar TopicSearchOption = selectedValue;\n\t\tvar SQLDate;\n\t\tvar DisplayDateTime;\n\t\tvar dbEventDateTime;\n\t\tvar PrimarySpeakerName;\n\t\tvar flags = '';\n\t\tthis.sessions = [];\n\t\tthis.TopicSearchChoice = TopicSearchOption;\n\n        this.localstorage.setLocalValue('TopicSearch', TopicSearchOption);\n\t\tvar AttendeeID = this.localstorage.getLocalValue('AttendeeID');\n\n\t\tif (TopicSearchOption === null || TopicSearchOption== 'Select a topic...') {\n\t\t\t\n\t\t\tthis.TopicSearchChoice = \"Select a topic...\";\n\t\t\tconsole.log('TopicSearch: Select a topic...');\n\t\t\n\t\t} else {\n\n\t\t\t// Get records\n\t\t\tthis.databaseprovider.getSearchData(TopicSearchOption, AttendeeID).then(data => {\n\t\t\t\t\n\t\t\t\tconsole.log('TopicSearch using: ' + TopicSearchOption);\n\n\t\t\t\tif (data['length']>0) {\n\t\t\t\t\t\n\t\t\t\t\tconsole.log('Records returned');\n\t\t\t\t\t\n\t\t\t\t\t// Process returned records to display\n\t\t\t\t\tfor (var i = 0; i < data['length']; i++) {\n\n\t\t\t\t\t\tdbEventDateTime = data[i].session_start_time.substring(0, 19);\n\t\t\t\t\t\tdbEventDateTime = dbEventDateTime.replace(/-/g, '/');\n\t\t\t\t\t\tdbEventDateTime = dbEventDateTime.replace(/T/g, ' ');\n\t\t\t\t\t\tSQLDate = new Date(dbEventDateTime);\n\t\t\t\t\t\tDisplayDateTime = dateFormat(SQLDate, \"mm/dd h:MMtt\");\n\n\t\t\t\t\t\t// Display end time\n\t\t\t\t\t\tdbEventDateTime = data[i].session_end_time.substring(0, 19);\n\t\t\t\t\t\tdbEventDateTime = dbEventDateTime.replace(/-/g, '/');\n\t\t\t\t\t\tdbEventDateTime = dbEventDateTime.replace(/T/g, ' ');\n\t\t\t\t\t\tSQLDate = new Date(dbEventDateTime);\n\t\t\t\t\t\tDisplayDateTime = DisplayDateTime + \" to \" + dateFormat(SQLDate, \"h:MMtt\");\n\n\t\t\t\t\t\tthis.sessions.push({\n\t\t\t\t\t\t\tDisplayEventName: data[i].session_title,\n\t\t\t\t\t\t\tDisplayEventTimeDateLocation: DisplayDateTime + \" in \" + data[i].RoomName, // + \" for \" + ConvertM2HM(resC.rows.item(0).EventDuration),\n\t\t\t\t\t\t\tSpeakerDisplayName: PrimarySpeakerName,\n\t\t\t\t\t\t\tEventID: data[i].session_id\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tthis.cd.markForCheck();\n\n\t\t\t\t//loading.dismiss();\n\n\t\t\t}).catch(function () {\n\t\t\t\tconsole.log(\"Promise Rejected\");\n\t\t\t});\n\t\t\t\n\t\t}\n\t}\n\n\tLoadData() {\n\t\t\n\t\t//let loading = this.loadingCtrl.create({\n\t\t//\tspinner: 'crescent',\n\t\t//\tcontent: 'Please wait...'\n\t\t//});\n\n\t\t//loading.present();\n\t\t\n\t\tthis.cd.markForCheck();\n\t\tvar SQLDate;\n\t\tvar DisplayDateTime;\n\t\tvar dbEventDateTime;\n\t\tvar PrimarySpeakerName;\n\t\tthis.sessions = [];\n\n\t\tvar TopicSearchOption = this.localstorage.getLocalValue('TopicSearch');\n\t\tthis.TopicSearchChoice = TopicSearchOption;\n\t\t\n\t\tvar AttendeeID = this.localstorage.getLocalValue('AttendeeID');\n\n\t\tconsole.log('TopicSearch: ' + TopicSearchOption);\n\t\t\n\t\tif (TopicSearchOption === null || TopicSearchOption== 'Select a topic...') {\n\t\t\t\n\t\t\tthis.TopicSearchChoice = \"Select a topic...\";\n\t\t\tconsole.log('TopicSearch: Select a topic...');\n\t\t\n\t\t} else {\n\t\t\t\n\t\t\t// Get records\n\t\t\tthis.databaseprovider.getSearchData(TopicSearchOption, AttendeeID).then(data => {\n\t\t\t\t\n\t\t\t\tconsole.log('TopicSearch using: ' + TopicSearchOption);\n\n\t\t\t\tif (data['length']>0) {\n\t\t\t\t\t\n\t\t\t\t\tconsole.log('Records returned');\n\t\t\t\t\t\n\t\t\t\t\t// Process returned records to display\n\t\t\t\t\tfor (var i = 0; i < data['length']; i++) {\n\n\t\t\t\t\t\tdbEventDateTime = data[i].session_start_time.substring(0, 19);\n\t\t\t\t\t\tdbEventDateTime = dbEventDateTime.replace(/-/g, '/');\n\t\t\t\t\t\tdbEventDateTime = dbEventDateTime.replace(/T/g, ' ');\n\t\t\t\t\t\tSQLDate = new Date(dbEventDateTime);\n\t\t\t\t\t\tDisplayDateTime = dateFormat(SQLDate, \"mm/dd h:MMtt\");\n\n\t\t\t\t\t\t// Display end time\n\t\t\t\t\t\tdbEventDateTime = data[i].session_end_time.substring(0, 19);\n\t\t\t\t\t\tdbEventDateTime = dbEventDateTime.replace(/-/g, '/');\n\t\t\t\t\t\tdbEventDateTime = dbEventDateTime.replace(/T/g, ' ');\n\t\t\t\t\t\tSQLDate = new Date(dbEventDateTime);\n\t\t\t\t\t\tDisplayDateTime = DisplayDateTime + \" to \" + dateFormat(SQLDate, \"h:MMtt\");\n\n\t\t\t\t\t\tthis.sessions.push({\n\t\t\t\t\t\t\tDisplayEventName: data[i].session_title,\n\t\t\t\t\t\t\tDisplayEventTimeDateLocation: DisplayDateTime + \" in \" + data[i].RoomName, // + \" for \" + ConvertM2HM(resC.rows.item(0).EventDuration),\n\t\t\t\t\t\t\tSpeakerDisplayName: PrimarySpeakerName,\n\t\t\t\t\t\t\tEventID: data[i].session_id\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tthis.cd.markForCheck();\n\n\t\t\t\t//loading.dismiss();\n\n\t\t\t}).catch(function () {\n\t\t\t\tconsole.log(\"Promise Rejected\");\n\t\t\t});\n\n\t\t}\n\t\t\n\t}\n\t\n    EventDetails(EventID) {\n\t\t\n        if (EventID != 0) {\n            // Navigate to Exhibitor Details page\n\t\t\tthis.navCtrl.push(EducationDetailsPage, {EventID: EventID}, {animate: true, direction: 'forward'});\n        }\n\n    };\n\t\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/searchbytopic/searchbytopic.ts"],"sourceRoot":""}