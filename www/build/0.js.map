{"version":3,"sources":["../../src/pages/activityfeedleaderboard/activityfeedleaderboard.module.ts","../../src/pages/activityfeedleaderboard/activityfeedleaderboard.ts","../../src/components/progress-bar/progress-bar.ts"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ActivityFeedLeaderboardPage } from './activityfeedleaderboard';\nimport { ChartsModule } from 'ng2-charts';\nimport { ProgressBarComponent } from '../../components/progress-bar/progress-bar';\n\n\n@NgModule({\n  declarations: [\n    ActivityFeedLeaderboardPage,\n\tProgressBarComponent\n  ],\n  imports: [\n    IonicPageModule.forChild(ActivityFeedLeaderboardPage),\n\tChartsModule\n  ],\n  exports: [\n    ActivityFeedLeaderboardPage\n  ]\n})\nexport class ActivityFeedLeaderboardPageModule {}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/activityfeedleaderboard/activityfeedleaderboard.module.ts","// Components, functions, plugins\nimport { Component, ChangeDetectionStrategy, ChangeDetectorRef, ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport 'rxjs/add/operator/map';\nimport { Database } from './../../providers/database/database';\nimport { Localstorage } from './../../providers/localstorage/localstorage';\n\n@IonicPage()\n@Component({\n  selector: 'page-activityfeedleaderboard',\n  templateUrl: 'activityfeedleaderboard.html',\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ActivityFeedLeaderboardPage {\n\n\tpublic LeaderboardListing: any[] = [];\n\t\n\tconstructor(private navParams: NavParams, \n\t\t\t\tprivate storage: Storage,\n\t\t\t\tprivate databaseprovider: Database,\n\t\t\t\tprivate cd: ChangeDetectorRef,\n\t\t\t\tpublic navCtrl: NavController,\n\t\t\t\tprivate view: ViewController,\n\t\t\t\tprivate localstorage: Localstorage) {\n\t\t\t\t\t\t\n\t}\n\n\tionViewDidEnter() {\n\n\t\tvar flags = \"lb|\";\n\t\t\n\t\tthis.LeaderboardListing = [];\n\t\tthis.cd.markForCheck();\n\t\t\n\t\tthis.databaseprovider.getDatabaseStats(flags, \"0\").then(data => {\n\n\t\t\tif (data['length']>0) {\n\t\t\t\t\n\t\t\t\tvar AttendeeName = \"\";\n\t\t\t\tvar visCompanyName = \"\";\n\t\t\t\tvar MaxBarDisplay = data[0].PostingsComments;\n\t\t\t\tvar BarDisplay = 0;\n\t\t\t\t\n\t\t\t\tfor (var i = 0; i < data['length']; i++) {\n\t\t\t\t\t\n\t\t\t\t\tAttendeeName = data[i].FirstName + \" \" + data[i].LastName;\n\t\t\t\t\t\n\t\t\t\t\t// Use blank if no company name available\n\t\t\t\t\tif (data[1].Company == null || data[i].Company == undefined) {\n\t\t\t\t\t\tvisCompanyName = \"\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvisCompanyName = data[i].Company;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// Determine if avatar is available or to use the default\n\t\t\t\t\tvar imageAvatar = \"\";\n\t\t\t\t\tif (data[i].avatarFilename != 'undefined' && data[i].avatarFilename != undefined && data[i].avatarFilename != '' && data[i].avatarFilename.length > 0) {\n\t\t\t\t\t\timageAvatar = \"https://demoplanner.convergence-us.com/AdminGateway/2019/images/Attendees/\" + data[i].avatarFilename;\n\t\t\t\t\t} else {\n\t\t\t\t\t\timageAvatar = \"assets/img/personIcon.png\";\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// Determine percentage amount for bar length\n\t\t\t\t\tif (parseInt(data[i].PostingsComments) == MaxBarDisplay) {\n\t\t\t\t\t\tBarDisplay = 100;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tBarDisplay = (parseInt(data[i].PostingsComments) / MaxBarDisplay) * 100;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tconsole.log('Attendee: ' + AttendeeName + ', Counter: ' + Counter + ', BarDisplay: ' + BarDisplay);\n\t\t\t\t\t\n\t\t\t\t\tvar Counter = parseInt(data[i].PostingsComments);\n\t\t\t\t\t\n\t\t\t\t\tthis.LeaderboardListing.push({\n\t\t\t\t\t\tlbDisplayName: AttendeeName,\n\t\t\t\t\t\tlbCompany: visCompanyName,\n\t\t\t\t\t\tlbBarDisplay: BarDisplay,\n\t\t\t\t\t\tlbCounter: Counter,\n\t\t\t\t\t\tlbAvatar: imageAvatar\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.cd.markForCheck();\n\n\t\t\t}\n\t\t\t\n\t\t});\n\t\t\n\t}\n\t\n\tcloseModal() {\n\t\t\n\t\tthis.view.dismiss();\n\t\t\n\t}\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/activityfeedleaderboard/activityfeedleaderboard.ts","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'progress-bar',\n  templateUrl: 'progress-bar.html'\n})\nexport class ProgressBarComponent {\n\n  @Input('progress') progress;\n\n  constructor() {\n\n  }\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/progress-bar/progress-bar.ts"],"sourceRoot":""}