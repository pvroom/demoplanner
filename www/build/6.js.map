{"version":3,"sources":["../../src/pages/profileimage/profileimage.module.ts","../../src/pages/profileimage/profileimage.ts"],"names":[],"mappings":"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","file":"6.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ProfileImagePage } from './profileimage';\n\n@NgModule({\n  declarations: [\n    ProfileImagePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ProfileImagePage),\n  ],\n  exports: [\n    ProfileImagePage\n  ]\n})\nexport class ProfileImagePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profileimage/profileimage.module.ts","// Components, functions, plugins\nimport { Component, HostListener, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController, LoadingController, AlertController } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { HttpClient } from '@angular/common/http';\nimport 'rxjs/add/operator/map';\nimport { Database } from './../../providers/database/database';\nimport { Localstorage } from './../../providers/localstorage/localstorage';\nimport { Camera, CameraOptions } from '@ionic-native/camera';\nimport { Observable } from 'rxjs/Observable';\nimport { normalizeURL } from 'ionic-angular';\nimport { DomSanitizer } from '@angular/platform-browser';\n\n\n\n\n@IonicPage()\n@Component({\n  selector: 'page-profileimage',\n  templateUrl: 'profileimage.html',\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ProfileImagePage {\n\n\tpublic ProfileImageAttachment: string;\n\tpublic deviceButtons: boolean;\n\tpublic browserButtons: boolean;\n\t\n\tconstructor(private navParams: NavParams, \n\t\t\t\tpublic navCtrl: NavController,\n\t\t\t\tpublic alertCtrl: AlertController,\n\t\t\t\tprivate storage: Storage,\n\t\t\t\tprivate databaseprovider: Database,\n\t\t\t\tprivate cd: ChangeDetectorRef,\n\t\t\t\tprivate view: ViewController,\n\t\t\t\tpublic loadingCtrl: LoadingController,\n\t\t\t\tpublic http: HttpClient,\n\t\t\t\tprivate camera: Camera,\n\t\t\t\tpublic _DomSanitizer: DomSanitizer,\n\t\t\t\tprivate localstorage: Localstorage) {\n\t\t\t\t\n\t}\n\n\taddCameraImage() {\n\t\t\n\t\tconst options: CameraOptions = {\n\t\t\tquality: 100,\n\t\t\ttargetWidth:900,\n\t\t\ttargetHeight:600,\n\t\t\tdestinationType: this.camera.DestinationType.DATA_URL,\n\t\t\tencodingType: this.camera.EncodingType.JPEG,\n\t\t\tcorrectOrientation:true,\n\t\t\tmediaType: this.camera.MediaType.PICTURE,\n\t\t\tsourceType:1\n\t\t}\n\n\t\tthis.camera.getPicture(options).then((imageData) => {\n\t\t\t// imageData is either a base64 encoded string or a file URI\n\t\t\t// If it's base64:\n\t\t\tconsole.log('Camera image');\n\t\t\t//let base64Image = 'data:image/jpeg;base64,' + imageData;\n\t\t\t//this.ProfileImageAttachment = base64Image;\n\t\t\tthis.ProfileImageAttachment = 'data:image/jpeg;base64,' + imageData;\n\t\t\n\t\t\tthis.cd.markForCheck();\n\t\t\t\n\t\t}, (err) => {\n\t\t\t// Handle error\n\t\t\tconsole.log('Camera error');\n\t\t});\n\n\t}\n\t\n\taddGalleryImage() {\n\t\t\n\t\tconst options: CameraOptions = {\n\t\t\tquality: 80,\n\t\t\tdestinationType: this.camera.DestinationType.DATA_URL,\n\t\t\tencodingType: this.camera.EncodingType.JPEG,\n\t\t\tmediaType: this.camera.MediaType.PICTURE,\n\t\t\tcorrectOrientation:true,\n\t\t\tallowEdit: true,\n\t\t\tsourceType: this.camera.PictureSourceType.PHOTOLIBRARY\n\t\t}\n\n\t\tthis.camera.getPicture(options).then((imageData) => {\n\t\t\t// imageData is either a base64 encoded string or a file URI\n\t\t\t// If it's base64:\n\t\t\tconsole.log('Camera image');\n\t\t\tthis.ProfileImageAttachment = 'data:image/jpeg;base64,' + imageData;\n\t\t\n\t\t\tthis.cd.markForCheck();\n\t\t\t\n\t\t}, (err) => {\n\t\t\t// Handle error\n\t\t\tconsole.log('Camera error');\n\t\t});\n\n\t}\n\t\n\tionViewDidEnter() {\n\n\t\tvar DevicePlatform = this.localstorage.getLocalValue('DevicePlatform');\n\t\t\n\t\t// Disable access to camera and gallery buttons when running in a browser\n\t\t// until the ability to pull an image via the browser can be implemented\n\t\tif (DevicePlatform == 'Browser') {\n\t\t\tconsole.log('Browser button settings');\n\t\t\tthis.deviceButtons = false;\n\t\t\tthis.browserButtons = true;\n\t\t} else {\n\t\t\tconsole.log('Device button settings');\n\t\t\tthis.deviceButtons = true;\n\t\t\tthis.browserButtons = false;\n\t\t}\n\t\t\n\t\tthis.cd.markForCheck();\n\n\t}\n\t\n\t/*\n\tcloseModal(UserAction) {\n\t\t\n\t\tvar AttendeeID = this.localstorage.getLocalValue('AttendeeID');\n\n\t\tif (UserAction == \"Save\") {\n\n\t\t\t// Load initial data set here\n\t\t\tlet loading = this.loadingCtrl.create({\n\t\t\t\tspinner: 'crescent',\n\t\t\t\tcontent: 'Saving your profile image...'\n\t\t\t});\n\n\t\t\tloading.present();\n\n\t\t\tvar NewFilename = AttendeeID;\n\t\t\tconsole.log('New filename: ' + NewFilename);\n\t\t\t\t\t\t\n\t\t\tlet url = 'https://naeyc.convergence-us.com/AdminGateway/image_uploader.php';\n\t\t\tlet postData = new FormData();\n\t\t\tpostData.append('file', this.ProfileImageAttachment);\n\t\t\tpostData.append('location', 'Attendees');\n\t\t\tpostData.append('filename', NewFilename);\n\t\t\tpostData.append('AttendeeID', AttendeeID);\n\t\t\t\n\t\t\tlet data:Observable<any> = this.http.post(url, postData);\n\t\t\t\n\t\t\tdata.subscribe((result) => {\n\t\t\t\t\n\t\t\t\tconsole.log(\"Image uploaded: \" + JSON.stringify(result));\n\t\t\t\tloading.dismiss();\n\t\t\t\tthis.view.dismiss(UserAction);\n\n\t\t\t});\n\t\t\t\t\t\t\t\n\t\t}\n\t\t\n\t\tif (UserAction == \"Cancel\") {\n\t\t\tthis.view.dismiss(UserAction);\n\t\t}\n\t\t\n\t}\n\t*/\n\t\n\tclosePage(UserAction) {\n\t\t\n\t\tvar AttendeeID = this.localstorage.getLocalValue('AttendeeID');\n\n\t\tif (UserAction == \"Save\") {\n\n\t\t\t// Load initial data set here\n\t\t\tlet loading = this.loadingCtrl.create({\n\t\t\t\tspinner: 'crescent',\n\t\t\t\tcontent: 'Saving your profile image...'\n\t\t\t});\n\n\t\t\tloading.present();\n\n\t\t\tvar NewFilename = AttendeeID;\n\t\t\tconsole.log('New filename: ' + NewFilename);\n\t\t\t\t\t\t\n\t\t\tlet url = 'https://aacdmobile.convergence-us.com/AdminGateway/2019/image_uploader.php';\n\t\t\tlet postData = new FormData();\n\t\t\tpostData.append('file', this.ProfileImageAttachment);\n\t\t\tpostData.append('location', 'Attendees');\n\t\t\tpostData.append('filename', NewFilename);\n\t\t\tpostData.append('AttendeeID', AttendeeID);\n\t\t\t\n\t\t\tlet data:Observable<any> = this.http.post(url, postData);\n\t\t\t\t\t\t\n\t\t\tdata.subscribe((result) => {\n\t\t\t\t\n\t\t\t\tconsole.log(\"Image uploaded: \" + JSON.stringify(result));\n\t\t\t\tloading.dismiss();\n\t\t\t\t\n\t\t\t\tthis.navCtrl.pop();\n\t\t\t\t\t\t\n\t\t\t},\n\t\t\terr => {\n\t\t\t\tloading.dismiss();\n\t\t\t\tlet alert = this.alertCtrl.create({\n\t\t\t\t\ttitle: 'Image Upload Error',\n\t\t\t\t\tsubTitle: 'Problem receiving feedback from server - check log.',\n\t\t\t\t\tbuttons: ['OK']\n\t\t\t\t});\n\t\t\t\talert.present();\n\t\t\t\tconsole.log(err.status);\n\t\t\t\tconsole.log(\"Image uploader error: \", JSON.stringify(err));\n\t\t\t});\n\t\t\t\t\t\t\t\n\t\t}\n\t\t\n\t\tif (UserAction == \"Cancel\") {\n\t\t\tthis.navCtrl.pop();\n\t\t}\n\t\t\n\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profileimage/profileimage.ts"],"sourceRoot":""}